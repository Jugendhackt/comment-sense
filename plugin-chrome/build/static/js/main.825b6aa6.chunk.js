(this["webpackJsonpplugin-chrome"]=this["webpackJsonpplugin-chrome"]||[]).push([[0],{104:function(e,t,n){},105:function(e,t,n){"use strict";n.r(t);var a,r,o,c,l,i,u,s,m,p,d,h,g,f,b,y,E,S,O,j,C,w,v=n(0),x=n.n(v),I=n(10),T=n.n(I),F=n(78),k=n(55),U=n(72),A=n(151),D=n(152),N=n(153),z=n(43),P=n(161),K=n(154),W=n(144),B={brandName:"CommentSense",home:"Home",signIn:"Anmelden",signInText:"Hier kommt noch ein Text hin",signInSuccessTitle:"Erfolgreich angemeldet",signInSuccessText:"Du hast dich erfolgreich angemeldet",signInErrTitle:"Fehler!",signInErrText:"Fehler beim anmelden",signUp:"Registieren",signUpText:"Hier kommt noch ein Text hin",signUpSuccessTitle:"Nutzer erstellt",signUpSuccessText:"Der Nutzer wurde erfolgreich erstellt",signUpErrTitle:"Fehler!",signUpErrText:"Der Nutzer konnte nicht erstellt werden",toWebsite:"zur Website wechseln",username:"Nickname",password:"Passwort",email:"E-mail",cancel:"Abbrechen",ok:"OK",saveChanges:"\xc4nderungen speichern",account:"Account bearbeiten",github:"CommentSense auf Github",notFoundTitle:"Seite nicht gefunden!",notFoundText:"Die angefragte Seite konnte nicht gefunden werden.",loggedInAs:"Angemeldet als: ",logout:"Abmelden",addComment:"Kommentar schreiben",addCommentText:"Bitte f\xfclle alle Felder aus",commentSend:"Kommentar senden",commentTitle:"Titel",commentText:"Kommentar",commentSuccessTitle:"Kommentar erfolgreich erstellt",commentSuccessText:"Hier kommt noch Text hin",commentFailTitle:"Fehler beim Kommentar erstellen",commentFailText:"Hier kommt noch Text hin"},H=n(148),q=n(142),J=n(108),R=n(149),L=n(135),G=n(137),M=n(138),Q=n(139),V=n(160),X=n(140),Y=n(141),Z=n(13),$=n(106),_=n(22),ee=n(134),te=x.a.forwardRef((function(e,t){return x.a.createElement($.a,Object.assign({direction:"up",ref:t},e))})),ne=Object(Z.a)((function(e){var t=Object(_.a)(),n=Object(ee.a)(t.breakpoints.down("sm"));return x.a.createElement(L.a,{open:e.open,onClose:e.onClose,fullScreen:n,TransitionComponent:te},x.a.createElement(G.a,null,e.title),x.a.createElement(M.a,null,x.a.createElement(Q.a,null,e.text)),x.a.createElement(X.a,null,x.a.createElement(Y.a,{variant:"contained",color:"secondary",onClick:e.onClose},B.cancel)))})),ae="http://192.168.2.113",re="1.1.1970",oe="Keine Kommentare vorhanden",ce="Kein Kommentar",le="CommentSense",ie="1",ue=function(e,t){return console.log(t,"commentRoute"),console.log(e,"commentRoute"),e&&t?"".concat(ae,"/api/comments?site='").concat(e,"'&username='").concat(t,"'"):e?"".concat(ae,"/api/comments?site='").concat(e):null},se=function(){return"".concat(ae,"/api/signup/")},me=function(e){return e.username&&e.password?"".concat(ae,"/api/signin?username='").concat(e.username,"'&password='").concat(e.password,"'"):null},pe=function(){return"".concat(ae,"/api/comments/")},de=function(){return"".concat(ae,"/api/comments/")},he=n(14),ge=n(38),fe=n(39),be=n(8),ye=(n(54),n(6)),Ee=(a=function(){function e(){Object(ge.a)(this,e),Object(he.a)(this,"username",r,this),Object(he.a)(this,"password",o,this),Object(he.a)(this,"sid",c,this),Object(he.a)(this,"loggedIn",l,this),Object(he.a)(this,"title",i,this),Object(he.a)(this,"comment",u,this)}return Object(fe.a)(e,[{key:"handleUsername",value:function(e){this.username=e}},{key:"handlePassword",value:function(e){this.password=e}},{key:"handleSid",value:function(e){this.sid=e}},{key:"handleLoggedIn",value:function(e){this.loggedIn=e}},{key:"handleTitle",value:function(e){this.title=e}},{key:"handleComment",value:function(e){this.comment=e}}]),e}(),r=Object(be.a)(a.prototype,"username",[ye.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),o=Object(be.a)(a.prototype,"password",[ye.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=Object(be.a)(a.prototype,"sid",[ye.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),l=Object(be.a)(a.prototype,"loggedIn",[ye.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),i=Object(be.a)(a.prototype,"title",[ye.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),u=Object(be.a)(a.prototype,"comment",[ye.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Object(be.a)(a.prototype,"handleUsername",[ye.b],Object.getOwnPropertyDescriptor(a.prototype,"handleUsername"),a.prototype),Object(be.a)(a.prototype,"handlePassword",[ye.b],Object.getOwnPropertyDescriptor(a.prototype,"handlePassword"),a.prototype),Object(be.a)(a.prototype,"handleSid",[ye.b],Object.getOwnPropertyDescriptor(a.prototype,"handleSid"),a.prototype),Object(be.a)(a.prototype,"handleLoggedIn",[ye.b],Object.getOwnPropertyDescriptor(a.prototype,"handleLoggedIn"),a.prototype),Object(be.a)(a.prototype,"handleTitle",[ye.b],Object.getOwnPropertyDescriptor(a.prototype,"handleTitle"),a.prototype),Object(be.a)(a.prototype,"handleComment",[ye.b],Object.getOwnPropertyDescriptor(a.prototype,"handleComment"),a.prototype),a),Se=(s=function(){function e(){Object(ge.a)(this,e),Object(he.a)(this,"openSignIn",m,this),Object(he.a)(this,"openSignUp",p,this),Object(he.a)(this,"openSignInSuccess",d,this),Object(he.a)(this,"openSignInFail",h,this),Object(he.a)(this,"openSignUpSuccess",g,this),Object(he.a)(this,"openSignUpFail",f,this),Object(he.a)(this,"openAccount",b,this),Object(he.a)(this,"anchorElAccount",y,this),Object(he.a)(this,"openDrawer",E,this),Object(he.a)(this,"openComment",S,this),Object(he.a)(this,"openCommentSuccess",O,this),Object(he.a)(this,"openCommentFail",j,this)}return Object(fe.a)(e,[{key:"handleSignIn",value:function(e){this.openSignIn=e}},{key:"handleSignUp",value:function(e){this.openSignUp=e}},{key:"handleSignInSuccess",value:function(e){this.openSignInSuccess=e}},{key:"handleSignInFail",value:function(e){this.openSignInFail=e}},{key:"handleSignUpSuccess",value:function(e){this.openSignUpSuccess=e}},{key:"handleSignUpFail",value:function(e){this.openSignUpFail=e}},{key:"handleAccount",value:function(e){this.openAccount=e}},{key:"handleAnchorElAccount",value:function(e){this.anchorElAccount=e}},{key:"handleDrawer",value:function(e){this.openDrawer=e}},{key:"handleComment",value:function(e){this.openComment=e}},{key:"handleCommentSuccess",value:function(e){this.openCommentSuccess=e}},{key:"handleCommentFail",value:function(e){this.openCommentFail=e}}]),e}(),m=Object(be.a)(s.prototype,"openSignIn",[ye.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),p=Object(be.a)(s.prototype,"openSignUp",[ye.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),d=Object(be.a)(s.prototype,"openSignInSuccess",[ye.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),h=Object(be.a)(s.prototype,"openSignInFail",[ye.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),g=Object(be.a)(s.prototype,"openSignUpSuccess",[ye.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),f=Object(be.a)(s.prototype,"openSignUpFail",[ye.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),b=Object(be.a)(s.prototype,"openAccount",[ye.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),y=Object(be.a)(s.prototype,"anchorElAccount",[ye.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=Object(be.a)(s.prototype,"openDrawer",[ye.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),S=Object(be.a)(s.prototype,"openComment",[ye.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),O=Object(be.a)(s.prototype,"openCommentSuccess",[ye.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),j=Object(be.a)(s.prototype,"openCommentFail",[ye.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Object(be.a)(s.prototype,"handleSignIn",[ye.b],Object.getOwnPropertyDescriptor(s.prototype,"handleSignIn"),s.prototype),Object(be.a)(s.prototype,"handleSignUp",[ye.b],Object.getOwnPropertyDescriptor(s.prototype,"handleSignUp"),s.prototype),Object(be.a)(s.prototype,"handleSignInSuccess",[ye.b],Object.getOwnPropertyDescriptor(s.prototype,"handleSignInSuccess"),s.prototype),Object(be.a)(s.prototype,"handleSignInFail",[ye.b],Object.getOwnPropertyDescriptor(s.prototype,"handleSignInFail"),s.prototype),Object(be.a)(s.prototype,"handleSignUpSuccess",[ye.b],Object.getOwnPropertyDescriptor(s.prototype,"handleSignUpSuccess"),s.prototype),Object(be.a)(s.prototype,"handleSignUpFail",[ye.b],Object.getOwnPropertyDescriptor(s.prototype,"handleSignUpFail"),s.prototype),Object(be.a)(s.prototype,"handleAccount",[ye.b],Object.getOwnPropertyDescriptor(s.prototype,"handleAccount"),s.prototype),Object(be.a)(s.prototype,"handleAnchorElAccount",[ye.b],Object.getOwnPropertyDescriptor(s.prototype,"handleAnchorElAccount"),s.prototype),Object(be.a)(s.prototype,"handleDrawer",[ye.b],Object.getOwnPropertyDescriptor(s.prototype,"handleDrawer"),s.prototype),Object(be.a)(s.prototype,"handleComment",[ye.b],Object.getOwnPropertyDescriptor(s.prototype,"handleComment"),s.prototype),Object(be.a)(s.prototype,"handleCommentSuccess",[ye.b],Object.getOwnPropertyDescriptor(s.prototype,"handleCommentSuccess"),s.prototype),Object(be.a)(s.prototype,"handleCommentFail",[ye.b],Object.getOwnPropertyDescriptor(s.prototype,"handleCommentFail"),s.prototype),s),Oe=(C=function(){function e(){Object(ge.a)(this,e),Object(he.a)(this,"comments",w,this)}return Object(fe.a)(e,[{key:"handleComments",value:function(e){this.comments=e}}]),e}(),w=Object(be.a)(C.prototype,"comments",[ye.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Object(be.a)(C.prototype,"handleComments",[ye.b],Object.getOwnPropertyDescriptor(C.prototype,"handleComments"),C.prototype),C),je=Object(v.createContext)({userStore:new Ee,dialogStore:new Se,commentStore:new Oe}),Ce=function(){return Object(v.useContext)(je)},we=function(e){return new Promise((function(t){null!==e?fetch("".concat(ae,"/api/checksid?sid='").concat(e,"'")).then((function(e){410===e.status?t(!1):200===e.status&&t(!0)})):t(!1)}))},ve=Object(U.a)((function(e){return{box:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",alignContent:"center",width:"100%"},mb:{marginBottom:e.spacing(2)},center:{display:"flex",justifyContent:"center"}}})),xe=Object(Z.a)((function(e){var t=Ce(),n=t.userStore,a=t.dialogStore,r=ve();return x.a.createElement(x.a.Fragment,null,x.a.createElement(L.a,{open:a.openSignUp,onClose:function(){return a.handleSignUp(!1)},fullScreen:!0},x.a.createElement(G.a,null,B.signUp),x.a.createElement(M.a,{dividers:!0},x.a.createElement(Q.a,null,B.signUpText),x.a.createElement(V.a,{label:B.username,value:n.username,fullWidth:!0,required:!0,className:r.mb,onChange:function(e){return n.handleUsername(e.target.value)}}),x.a.createElement(V.a,{label:B.password,value:n.password,fullWidth:!0,required:!0,className:r.mb,onChange:function(e){return n.handlePassword(e.target.value)},type:"password"})),x.a.createElement(X.a,{className:r.center},x.a.createElement(Y.a,{variant:"contained",color:"primary",onClick:function(){n.username&&n.password&&fetch(se(),{method:"POST",header:{"Content-Type":"application/json"},body:JSON.stringify({username:n.username,password:n.password})}).then((function(e){200===e.status?(a.handleSignUpSuccess(!0),a.handleSignUp(!1)):(a.handleSignUpFail(!0),a.handleSignUp(!1))})).catch((function(e){a.handleSignUpFail(!0)}))}},B.signUp),x.a.createElement(Y.a,{variant:"contained",color:"secondary",onClick:function(){return a.handleSignUp(!1)}},B.cancel))),x.a.createElement(ne,{open:a.openSignUpSuccess,onClose:function(){return a.handleSignUpSuccess(!1)},title:B.signUpSuccessTitle,text:B.signUpSuccessText}),x.a.createElement(ne,{open:a.openSignUpFail,onClose:function(){return a.handleSignUpFail(!1)},title:B.signUpErrTitle,text:B.signUpErrText}))})),Ie=function(e,t){if(Array.isArray(e)&&Array.isArray(t))for(var n=0;n<e.length;n++)localStorage.setItem(e[n],t[n]);else localStorage.setItem(e,t)},Te=function(e){if(Array.isArray(e)){for(var t=[],n=e.length,a=0;a<n;a++)t.push(localStorage.getItem(e[a]));return t}return localStorage.getItem(e)},Fe=function(e){localStorage.removeItem(e)},ke=function(e){e.username="",e.password="",e.email="",e.sid="",e.loggedIn=!1},Ue=function(){return new Promise((function(e){chrome.tabs.query({active:!0,lastFocusedWindow:!0},(function(t){console.log(t[0].url,"getCurrentTab"),e(t[0].url)}))}))},Ae=Object(U.a)((function(e){return{box:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",alignContent:"center",width:"100%"},center:{display:"flex",justifyContent:"center"},mb:{marginBottom:e.spacing(2)}}})),De=Object(Z.a)((function(e){var t=Ce(),n=t.userStore,a=t.dialogStore,r=Ae();return x.a.createElement(x.a.Fragment,null,x.a.createElement(L.a,{open:a.openSignIn,onClose:function(){return a.handleSignIn(!1)},fullScreen:!0},x.a.createElement(G.a,null,B.signIn),x.a.createElement(M.a,null,x.a.createElement(Q.a,null,B.signInText),x.a.createElement(V.a,{label:B.username,value:n.username,fullWidth:!0,required:!0,className:r.mb,onChange:function(e){return n.handleUsername(e.target.value)}}),x.a.createElement(V.a,{label:B.password,value:n.password,fullWidth:!0,required:!0,className:r.mb,onChange:function(e){return n.handlePassword(e.target.value)},type:"password"})),x.a.createElement(X.a,{className:r.center},x.a.createElement(Y.a,{variant:"contained",color:"primary",onClick:function(){fetch(me({username:n.username,password:n.password})).then((function(e){if(200===e.status)return Ie("username",n.username),a.handleSignInSuccess(!0),a.handleSignIn(!1),e.json();a.handleSignInFail(!0),a.handleSignIn(!1)})).then((function(e){e.sid&&(n.handleSid(e.sid),Ie("sid",e.sid))})).catch((function(e){a.handleSignInFail(!0)}))}},B.signIn),x.a.createElement(Y.a,{variant:"contained",color:"secondary",onClick:function(){return a.handleSignIn(!1)}},B.cancel))),x.a.createElement(ne,{open:a.openSignInSuccess,onClose:function(){return a.handleSignInSuccess(!1)},title:B.signInSuccessTitle,text:B.signInSuccessText}),x.a.createElement(ne,{open:a.openSignInFail,onClose:function(){return a.handleSignInFail(!1)},title:B.signUpErrTitle,text:B.signUpErrText}))})),Ne=n(143),ze=n(145),Pe=n(146),Ke=Object(Z.a)((function(e){var t=Ce().dialogStore;return Ce().userStore.loggedIn?null:x.a.createElement(x.a.Fragment,null,x.a.createElement(J.a,{button:!0,onClick:function(){return t.handleSignIn(!0)}},x.a.createElement(Ne.a,null,x.a.createElement(W.a,{color:"secondary"})),x.a.createElement(ze.a,{primary:B.signIn})),x.a.createElement(J.a,{button:!0,onClick:function(){return t.handleSignUp(!0)}},x.a.createElement(Ne.a,null,x.a.createElement(Pe.a,{color:"secondary"})),x.a.createElement(ze.a,{primary:B.signUp})))})),We=n(147),Be=Object(Z.a)((function(e){var t=Ce().userStore;return t.loggedIn?x.a.createElement(x.a.Fragment,null,x.a.createElement(J.a,{button:!0},x.a.createElement(Ne.a,null,x.a.createElement(W.a,{color:"secondary"})),x.a.createElement(ze.a,{primary:"".concat(B.loggedInAs," ").concat(t.username)})),x.a.createElement(J.a,{button:!0,onClick:function(){ke(t),Fe("sid"),window.location.reload()}},x.a.createElement(Ne.a,null,x.a.createElement(We.a,{color:"secondary"})),x.a.createElement(ze.a,{primary:B.logout}))):null})),He=Object(U.a)((function(e){return{list:{width:250,height:"100%"}}})),qe=Object(Z.a)((function(e){var t=Ce().dialogStore,n=He();return x.a.createElement(H.a,{open:t.openDrawer,onClose:function(){return t.handleDrawer(!1)}},x.a.createElement("div",{className:n.list},x.a.createElement(q.a,null,x.a.createElement(J.a,null,x.a.createElement(z.a,{variant:"h6"},B.brandName)),x.a.createElement(R.a,null),x.a.createElement(Ke,null),x.a.createElement(Be,null))),x.a.createElement(xe,null),x.a.createElement(De,null))})),Je=n(79),Re=n(150),Le=Object(Z.a)((function(e){var t=Ce(),n=t.userStore,a=t.dialogStore;return n.loggedIn?x.a.createElement(Je.a,{keepMounted:!0,anchorEl:a.anchorElAccount,open:a.openAccount,onClose:function(){a.handleAnchorElAccount(null),a.handleAccount(!1)}},x.a.createElement(Re.a,null,x.a.createElement(Ne.a,null,x.a.createElement(W.a,{color:"secondary"})),x.a.createElement(ze.a,{primary:"".concat(B.loggedInAs," ").concat(n.username)})),x.a.createElement(Re.a,{onClick:function(){ke(n),Fe("sid"),window.location.reload()}},x.a.createElement(Ne.a,null,x.a.createElement(W.a,{color:"secondary"})),x.a.createElement(ze.a,{primary:B.logout}))):null})),Ge=Object(U.a)((function(e){return{menuButton:{marginRight:e.spacing(2)},account:{display:"flex",justifyContent:"flex-end",width:"100%"}}})),Me=Object(Z.a)((function(e){var t=Ce().dialogStore,n=Ge();return x.a.createElement(x.a.Fragment,null,x.a.createElement(A.a,{position:"static",className:n.appBar},x.a.createElement(D.a,null,x.a.createElement(N.a,{edge:"start",className:n.menuButton,color:"inherit",onClick:function(e){(!e||"keydown"!==e.target.type||"Tab"!==e.key&&"Shift"!==e.key)&&t.handleDrawer(!t.openDrawer)}},x.a.createElement(K.a,null)),x.a.createElement(z.a,{variant:"h6"},B.brandName),x.a.createElement(Qe,null),x.a.createElement(Le,null))),x.a.createElement(qe,null))})),Qe=Object(Z.a)((function(e){var t=Ce().dialogStore,n=Ce().userStore,a=Ge();return n.loggedIn?x.a.createElement(P.a,{className:a.account},x.a.createElement(N.a,{color:"inherit",onClick:function(e){t.handleAccount(!0),t.handleAnchorElAccount(e.currentTarget)}},x.a.createElement(W.a,{color:"secondary"}))):null})),Ve=Me,Xe=n(109),Ye=Object(Xe.a)((function(e){return{textField:{marginBottom:e.spacing(2),padding:e.spacing(1)},center:{display:"flex",justifyContent:"center"}}})),Ze=Object(Z.a)((function(e){var t=Ye(),n=Ce(),a=n.userStore,r=n.dialogStore;return x.a.createElement(x.a.Fragment,null,x.a.createElement(L.a,{open:r.openComment,onClose:function(){return r.handleComment(!1)},fullScreen:!0},x.a.createElement(G.a,null,B.addComment),x.a.createElement(M.a,null,x.a.createElement(Q.a,null,B.addCommentText),x.a.createElement(V.a,{autoFocus:!0,fullWidth:!0,placeholder:B.commentTitle,size:"medium",className:t.textField,onChange:function(e){return a.handleTitle(e.target.value)}}),x.a.createElement(V.a,{fullWidth:!0,multiline:!0,placeholder:B.commentText,size:"medium",rows:6,className:t.textField,onChange:function(e){return a.handleComment(e.target.value)}})),x.a.createElement(X.a,null,x.a.createElement(Y.a,{variant:"contained",color:"primary",onClick:function(){Ue().then((function(e){console.log(e,"hi"),fetch(pe(),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sid:a.sid,url:e,headline:a.title,content:a.comment,username:a.username})}).then((function(e){200===e.status?r.handleCommentSuccess(!0):r.handleCommentFail(!0)})).catch((function(e){r.handleCommentFail(!0)}))}))}},B.commentSend),x.a.createElement(Y.a,{variant:"contained",color:"secondary",onClick:function(){return r.handleComment(!1)}},B.cancel))),x.a.createElement(ne,{open:r.openCommentSuccess,onClose:function(){return r.handleCommentSuccess(!1)},title:B.commentSuccessTitle,text:B.commentSuccessText}),x.a.createElement(ne,{open:r.openCommentFail,onClose:function(){return r.handleCommentFail(!1)},title:B.commentFailTitle,text:B.commentFailText}))})),$e=Object(Xe.a)((function(e){return{footer:{display:"flex",position:"fixed",bottom:0,width:"100%",backgroundColor:e.palette.primary.main,height:50,justifyContent:"center"}}})),_e=Object(Z.a)((function(e){var t=Ce(),n=t.dialogStore,a=t.userStore,r=$e();return a.loggedIn?x.a.createElement(x.a.Fragment,null,x.a.createElement(Ze,null),x.a.createElement("footer",{className:r.footer},x.a.createElement(Y.a,{onClick:function(){return n.handleComment(!0)}},B.addComment))):null})),et=n(33),tt=n(157),nt=n(75),at=n.n(nt),rt=n(156),ot=n(59),ct=n(155),lt=Object(U.a)((function(e){return{comment:{display:"flex",flexDirection:"column"},paper:{margin:e.spacing(2),padding:"5%",minWidth:"70%"},box:{display:"flex",flexDirection:"row",justifyContent:"space-between"},mb:{marginBottom:e.spacing(2)},text:{marginLeft:e.spacing(1)}}})),it=function(e){var t,n=lt(),a=Ce().userStore;return t=e.voted?"secondary":"",x.a.createElement(J.a,{button:!0,className:n.comment},x.a.createElement(ot.a,{className:n.paper},x.a.createElement(P.a,{className:"".concat(n.box," ").concat(n.mb)},x.a.createElement(z.a,{variant:"h5"},e.title),x.a.createElement(z.a,{variant:"caption"},e.date)),x.a.createElement(ze.a,{primary:e.content,className:n.mb}),x.a.createElement(P.a,{className:n.box},x.a.createElement(z.a,{variant:"caption"},e.author),x.a.createElement(P.a,{display:"flex",onClick:function(){fetch(de(),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({sid:a.sid,username:a.username,id:e.id,vote:1})}).then((function(e){200===e.status||e.status}))}},x.a.createElement(ct.a,{color:t}),x.a.createElement(ze.a,{primary:e.votes,className:n.text})))))},ut=Object(U.a)((function(e){return{box:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},progress:{margin:"5%"}}})),st=Object(Z.a)((function(e){var t=Ce(),n=t.commentStore,a=t.userStore,r=ut();Ue().then((function(e){console.log(e,"url"),fetch(ue(e,a.username)).then((function(e){if(e.ok)return e.json()})).then((function(e){n.handleComments(e.comments)}))}));return x.a.createElement(q.a,null,Array.isArray(n.comments)&&n.comments.length?n.comments.map((function(e){return x.a.createElement(it,{date:e.date,content:e.content,title:e.headline,url:e.url,author:e.author,votes:e.likes,key:at.a.v4(),id:e.id,voted:e.voted})})):Array.isArray(n.comments)&&!n.comments.length?x.a.createElement(it,{date:re,content:oe,title:ce,author:le,votes:ie}):x.a.createElement(P.a,{className:r.box},x.a.createElement(rt.a,{size:100,className:r.progress}),x.a.createElement(rt.a,{size:100,className:r.progress}),x.a.createElement(rt.a,{size:100,className:r.progress}),x.a.createElement(rt.a,{size:100,className:r.progress}),x.a.createElement(rt.a,{size:100,className:r.progress})))})),mt=function(e){return x.a.createElement(x.a.Fragment,null,x.a.createElement(st,null))},pt=function(e){return x.a.createElement(x.a.Fragment,null,x.a.createElement(z.a,{variant:"h3"},B.notFoundTitle),x.a.createElement(z.a,{variant:"body1"},B.notFoundText))},dt=function(e){return x.a.createElement(tt.a,{fixed:!0},x.a.createElement(et.d,null,x.a.createElement(et.b,{exact:!0,path:"/index.html",render:function(e){return x.a.createElement(mt,e)}}),x.a.createElement(et.b,{exact:!0,path:"/404/",render:function(e){return x.a.createElement(pt,e)}}),x.a.createElement(et.a,{to:"/404/"})))},ht=n(158),gt=n(77),ft=Object(gt.a)({palette:{type:"dark",primary:{light:"#ff9800",main:"#f57c00",dark:"#e65100",contrastText:"#fffff"},secondary:{light:"#42a5f5",main:"#1e88e5",dark:"#0d47a1",contrastText:"#fffff"}},themeName:"CommentSense"}),bt=n(159),yt=Object(Z.a)((function(e){var t=Object(v.useState)(!0),n=Object(F.a)(t,2),a=n[0],r=n[1],o=Ce().userStore,c=Te("sid");return we(c).then((function(e){e?(o.loggedIn=!0,o.handleUsername(Te("username")),o.handleSid(c),r(!1)):r(!1)})),!1===a?x.a.createElement(x.a.Fragment,null,x.a.createElement(ht.a,{theme:ft},x.a.createElement(bt.a,null),x.a.createElement(k.a,null,x.a.createElement(Ve,null),x.a.createElement(dt,null),x.a.createElement(_e,null)))):null}));n(104);T.a.render(x.a.createElement(yt,null),document.getElementById("root"))},92:function(e,t,n){e.exports=n(105)}},[[92,1,2]]]);
//# sourceMappingURL=main.825b6aa6.chunk.js.map